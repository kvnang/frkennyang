.post-entry {
  padding: calc(var(--post-gap) * 2) var(--post-gap);

  .post-img,
  .post-title,
  .post-excerpt {
    margin-bottom: 0.5em;
  }

  .post-inner {
    display: flex;
    flex-direction: column;
    transition: color var(--transition);

    &:hover,
    &:focus {
      @media (hover: hover) {
        color: var(--gold);

        .post-img {
          .gatsby-image-wrapper {
            transform: translate(-0.5rem, -0.5rem);
          }
          .post-img-inner {
            &::before {
              opacity: 0.7;
            }
          }
        }
      }
    }

    &:focus {
      color: var(--gold);
    }
  }

  .post-details {
    flex: 1;
  }

  .post-img {
    .post-img-inner {
      width: 100%;
      height: 0;
      position: relative;
      padding-bottom: 56.25%;
      z-index: 0;

      &::before {
        content: '';
        height: 100%;
        width: 100%;
        position: absolute;
        z-index: -1;
        top: 0;
        left: 0;
        background: var(--grey);
        opacity: 0.2;
        transition: var(--transition);
      }

      &.skeleton-bg {
        &::before {
          content: none;
        }
      }
    }

    .gatsby-image-wrapper {
      width: 100%;
      transition: transform var(--transition);
    }

    .post-format {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 2.5rem;
      width: 2.5rem;
      background-color: var(--black);
      padding: 0.5rem;
      z-index: 1;
      transform: translateZ(0);

      svg {
        color: var(--white);
        height: 100%;
        width: auto;
      }
    }

    .post-lang {
      padding: 0.25rem 0.75rem;
      border-radius: 0.25rem;
      background-color: var(--white);
      position: absolute;
      bottom: 0.5rem;
      right: 0.5rem;
      box-shadow: var(--shadow);
      color: var(--black);
    }
  }

  .post-excerpt,
  .post-meta {
    color: var(--black);
  }

  .post-excerpt {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .post-meta {
    &.skeleton-bg {
      width: 50%;
    }
  }

  &.format-list {
    .post-inner {
      flex-direction: row;
    }
    .post-img {
      order: 1;
      width: 100px;
      min-width: 100px;
      margin-left: 1.5rem;
      margin-bottom: 0;

      @include breakpoint($tablet-sm) {
        width: 200px;
        min-width: 200px;
        margin-left: 1.5rem;
      }
    }
    .post-title {
      @include breakpoint(mobile-only) {
        font-size: var(--font-size-h4);
      }
    }
    .post-excerpt {
      -webkit-line-clamp: 2;
      @include breakpoint(mobile-only) {
        display: none;
      }
    }
  }

  .skeleton-bg {
    background: var(--offwhite-light);
    position: relative;
    overflow: hidden;

    &::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      height: 100%;
      width: 100%;
      background-image: linear-gradient(
        90deg,
        hsla(0, 100%, 100%, 0) 0,
        hsla(0, 100%, 100%, 0.25) 30%,
        hsla(0, 100%, 100%, 0.5) 60%,
        hsla(0, 100%, 100%, 0) 100%
      );
      z-index: 1;
      animation: shimmer 1.5s infinite;
      transform: translateX(-100%);
    }
  }
}

@keyframes shimmer {
  100% {
    transform: translateX(100%);
  }
}
